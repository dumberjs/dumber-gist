<template>
  <ux-dialog class="wide-dialog">
    <ux-dialog-header>Open a GitHub Gist</ux-dialog-header>
    <ux-dialog-body>
      <form submit.trigger="open()">
        <input type="text" value.bind="gistUrl" class="w100" placeholder="Gist id or URL" focus.one-time="true">
        <hidden-submit></hidden-submit>
      </form>
      <div if.bind="errors">
        <small class="text-warning">${errors}.</small>
      </div>
      <div class="mt-2">
        <small>Accept gist id like:</small><br>
        <small class="badge bg-dark">519854bd87610fe8900a735ce50e9561</small>
      </div>
      <div class="mt-3 mb-3">
        <small>Accept full gist URL like:</small><br>
        <small class="badge bg-dark">https://gist.github.com/3cp/519854bd87610fe8900a735ce50e9561</small><br>
        <small class="badge bg-dark">https://gist.github.com/519854bd87610fe8900a735ce50e9561</small>
      </div>

      <div class="lead">Or Search all gists of a GitHub user:</div>

      <form submit.trigger="open()">
        <input type="text" value.bind="githubUser" class="w100" placeholder="GitHub user name">
        <hidden-submit></hidden-submit>
      </form>
    </ux-dialog-body>
    <ux-dialog-footer>
      <button class="btn" click.trigger="controller.cancel() & leftClick">Cancel</button>
      <button class="btn ml-auto primary" attach-focus click.trigger="open() & leftClick" disabled.bind="(errors || !gistUrl) && !githubUser">Open</button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
